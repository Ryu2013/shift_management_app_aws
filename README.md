# ケアシフト | 重度訪問介護事業向け業務効率化　SaaS

[![Image from Gyazo](https://gyazo.com/e2bc82e23c954f42a37a31e661fb9d25.jpg)](https://gyazo.com/e2bc82e23c954f42a37a31e661fb9d25)

**「ケアシフト」** は、重度訪問介護事業向け SaaS です。<br>
シフト作成機能を中心にサ責の管理業務-１００時間を目標とし様々な管理業務を支援します。
<br><br><br>

## - なぜこのツールを開発するのか/前職の管理業務での課題

### 煩雑化するシフト管理

現状、訪問介護のシフト管理は表計算ソフトが主流です。前職でも従業員1人あたり3レコードで管理しているため、人数増に比例してレコードが膨れ上がり、可読性が低下。重複登録、夜勤明けに日勤を入れてしまう誤配置、入れ忘れなどのミスが増え、毎月の作成に多大な時間がかかっています。

部署ごとに表を分ける運用にも挑戦しましたが、担当できるお客様が部署をまたぐため重複チェックが難しく、結局は単一の一覧に戻らざるを得ませんでした。GASで検索機能も追加してみましたが、スプレッドシートだけでは細かな権限管理ができず、毎月のように不要な編集が入り、エラーの温床になっています。

有料の様々な機能を有した総合ソフトも導入しておりますが、操作が複雑で高齢の管理者には負担が大きく、請求機能のみを使用、シフトは再び表計算ソフトに逆戻りという状況です。

### 直行直帰の事業形態の為、無事に出勤しているのか分かりずらい

直行直帰の事業形態のため、出勤状況をリアルタイムで把握しづらい点が課題でした。前職では勤怠管理をLINEで行っており、5〜30名規模の間は問題なく運用できていました。しかし人数が増えるにつれ、「誰が出勤済みか」「誰が遅れているか」の把握が難しくなり、支援開始時間を過ぎてからお客様から連絡が入るケースも発生していました。

### 毎日、出勤先が違うからこそ起こるケアレスミス

訪問介護では日々の訪問先が変わるため、確認不足によるケアレスミスが起こりやすい環境でした。具体的には、訪問先を取り違えて別の場所へ向かってしまったり、誤った住所を共有してしまったりすることがあり、支援開始の遅れや関係者への連絡負担につながっていました。

### 特定事業所加算に必要なチャット機能

訪問介護では特定の条件を満たした企業に、介護報酬の上乗せがあります。その中の一つに、「事業所の指揮命令系統に基づき、組織的かつ計画的にサービス提供が行われている体制」という条件があり、これにはプライベートではない連絡手段が必要です。
前職では、これを目的としてチャット機能を有した有料のアプリケーションを入れていました。

## - どのように課題解決するか

### ペルソナ

重度訪問介護事業事業者<br>

## ユーザー層について
訪問介護 管理職（シフト作成・調整担当）。
PC は得意でない前提で、学習コストゼロ・入力の手戻りゼロを狙う。

#### 解決策：

「ケアシフト」は上記の課題に対し、以下の解決策を提供します。

1.  **最大限シンプルにしたシフト作成、共有機能：**
    訪問介護の管理職はPC操作が得意な方ばかりではありません。選択肢を必要最小限にし、直感的に使えるUIを目指します。少ないクリック数でシフト作成ができ、管理職は入力作業ではなく人員配置の判断に注力できます。
2.  **一目でわかる勤怠管理機能：**
    1画面で利用者ごとの勤怠状況を把握できます。出勤／未出勤が分かるように色分けし、状況把握にかかる時間を削減します。
3.  **ワンタップっで経路表示：**
    利用者の住所を事前登録しておけば、当日はマップボタンを押すだけで現在地から訪問先までナビゲーションできます。住所の伝達ミスや訪問先の取り違えといったケアレスミスを防ぎます。
3.  **同一アプリケーション内でリアルタイムに連絡：**
    私用の連絡手段とは切り分けたアプリ内チャットで、リアルタイムに連絡できます。シフト調整中でも通知が届き、見逃しを防ぎます。

上記により、日次の煩雑な管理業務にかかる工数を大幅に削減し、**月間 -100h の削減**を実現します。

### 新規ユーザーの獲得方法

新規事業では、まず顧客接点を増やすことが重要だと考え、対面での営業を行いました。営業用にパンフレットと名刺を用意し、実際に企業へ訪問してヒアリングを実施したところ、「価格がもう少し安ければ試したい」「重度訪問介護だけでなく訪問介護にも対応すれば導入を検討したい」といったフィードバックをいただきました。現在はこれらの要望を反映した改善を実装しており、対応完了後に再度営業を行う方針です。
  <br><br><br>

## - 何を具体的に提供するのか <br>

### 主な機能

| カテゴリ         | 機能                                                                                                                                                                                                          |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **シフト管理、共有** | ・Turbo Stream を利用し、リアルタイムに更新・共有<br>・お客様単位で編集でき、従業員単位でも確認可能<br>・従業員側は特別な操作なしで最新情報が共有される<br>・訪問介護で特有の対応可能な従業員の紐付け機能、条件に合う人員から配置できる<br>・曜日ごとに支援時間を設定しておくことで、1か月分のシフトをワンクリックで生成できる |
| **勤怠管理機能** |・ワンタップで出勤報告<br>・お客様ごとに出勤状況を一覧で確認できる |
| **経路検索機能** |・お客様の住所を Google Maps API で緯度・経度に変換し、より正確なナビゲーションを実現<br>・ワンタップで Google マップを開き、現在地から訪問先までの経路を表示 |
| **リアルタイムチャット機能** |・Turbo Stream を利用したリアルタイムチャット<br>・S3 + Active Storage を用いたユーザーアイコン機能 |
| **その他全般機能**  |・Devise によるユーザー登録／認証<br>・OAuth2 による Google ログイン<br>・二段階認証（2FA）<br>・devise-pwned_password による漏えいパスワード照合<br>・SMTP を用いたメール認証<br>・Pundit による権限管理<br>・使い方ガイド<br>・利用規約／プライバシーポリシー |

### 既存有料サービスとの比較
| 既存の有料サービス | 当サービス |
|---------|---------|
| 一つの画面に多くの機能があり操作が汎雑 | 機能をあえて絞りUIも単純化|
| 法律上の言葉も多く正確では有るが分かりずらい | 正確さよりも汎用的な言語で表現 |
|文字が小さく見えずらい|文が大きく見えやすい|
|文字数も多く堅苦しい印象|文字数は最低限にし取っつき易く|

<br>
<br>

## 使用技術

| カテゴリ           | 技術                                               |
| ------------------ | -------------------------------------------------- |
| **バックエンド**   | Ruby 3.3 / Ruby on Rails 8.1.1                 |
| **フロントエンド** | Hotwire（Turbo）  /バニラCSS,JavaScript                   |
| **データベース**   | PostgreSQL                                         |
| **インフラ**       | AWS（EC2／S3）※開発初期は Heroku／運営者紹介ページは GitHub Pages |
| **サーバー**       | PUMA　Nginx　　　　　　　　　　　　　　　　　　　　　　|
| **キャッシュ**     | Redis                                              |
| **CI/CD**          | GitHub Actions                                     |
| **認証・認可**     | Devise / OmniAuth (Google OAuth2)                  |
| **API 通信**       | Google Maps API / OAuth2 / Pwned Passwords  /Stripe API   |
| **国際化**         | Rails-i18n                                         |
| **コンテナ化**     | Docker / Docker Compose                            |
| **セキュリティ**   | Brakeman                                           |
| **テストツール**   | RSpec（※開発初期は Minitest） / FactoryBot / Capybara |


## 画面推移図
https://www.figma.com/design/W7vW42qlox6ldEw0ebuMWa/shift_management_app?node-id=0-1&t=oPAAtNsYlm8YZgVm-1

## ER図
https://www.mermaidchart.com/app/projects/da5a9b17-da30-402e-b368-486879d7a968/diagrams/14aadeb6-c8f9-4879-9c39-c54edea705cb/share/invite/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkb2N1bWVudElEIjoiMTRhYWRlYjYtYzhmOS00ODc5LTljMzktYzU0ZWRlYTcwNWNiIiwiYWNjZXNzIjoiRWRpdCIsImlhdCI6MTc1NzgyODM4N30.Whehw9SPhNxZTxij1_er50tzEvA0yvEZRKbTVsdTUjA