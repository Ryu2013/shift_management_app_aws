<%= form_with model: @user, url: team_user_path(@user.team, @user), method: :patch, local: true do |form| %>
  <% if @user.errors.any? %>
    <div class="error-text">
      <ul>
        <% @user.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="flexbox"  >
  <%= image_tag @user.icon_url, class: "icon icon-xl" %>
  </div>

  <div class="field">
    <%= form.label :icon, "アイコン画像" %>
    <%= form.file_field :icon %>
  </div>

  <div>
    <%= form.label :team_id, "部署", class: "block-label" %>
    <%= form.collection_select :team_id, @teams, :id, :name %>
  </div>

  <div>
    <%= form.label :name, "氏名", class: "block-label" %>
    <%= form.text_field :name %>
  </div>

  <div>
    <%= form.label :address, "住所", class: "block-label" %>
    <%= form.text_field :address %>
  </div>

  <% unless current_user == form.object %>
    <div>
      <%= form.label :role, "管理者権限の付与", class: "block-label" %>
      <%= form.select :role, [['管理者', 'admin'], ['一般', 'employee']] %>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :email, t(".email") %>
    <%= form.email_field :email, autofocus: true, autocomplete: "email" %>
  </div>

  <div class="field">
    <%= form.label :password, "パスワード" %>
    <%= form.password_field :password, autocomplete: "new-password" %>
  </div>


  <div class="field">
    <%= form.label :password_confirmation, "確認用パスワード" %>
    <%= form.password_field :password_confirmation, autocomplete: "new-password" %>
  </div>


  <div class="flexbox">
    <%= form.submit "更新する" %>
  </div>
<% end %>
